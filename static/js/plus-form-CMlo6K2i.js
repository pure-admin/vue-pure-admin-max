var He=Object.defineProperty,We=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var ke=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;var Ve=(s,o,d)=>o in s?He(s,o,{enumerable:!0,configurable:!0,writable:!0,value:d}):s[o]=d,D=(s,o)=>{for(var d in o||(o={}))Je.call(o,d)&&Ve(s,d,o[d]);if(ke)for(var d of ke(o))Qe.call(o,d)&&Ve(s,d,o[d]);return s},de=(s,o)=>We(s,Ye(o));var Pe=(s,o,d)=>new Promise((r,n)=>{var b=a=>{try{y(d.next(a))}catch(f){n(f)}},T=a=>{try{y(d.throw(a))}catch(f){n(f)}},y=a=>a.done?r(a.value):Promise.resolve(a.value).then(b,T);y((d=d.apply(s,o)).next())});import{a as S,aF as we,n as J,aX as Le,fk as Xe,p as z,fl as Ze,u as e,cN as xe,d as ae,f as t,b as m,a5 as g,W as L,aq as j,aD as el,r as ye,fm as Re,ap as ee,l as A,w as h,b4 as W,k as F,F as N,c1 as he,h as Y,t as H,j as R,c3 as _e,B as Be,fn as Oe,i as le,bB as be,g as ge,v as Ue,cq as ll,a6 as Ce,q as Ee,bQ as pe,b8 as al,bk as ol,bp as tl,bn as sl,bu as ul,bR as nl,c4 as rl,c8 as Ae,c9 as Ne,ce as dl,ck as il,cs as pl,ct as cl,cx as fl,cz as ml,S as w,fo as vl,cr as hl,bF as bl,bM as yl,cw as gl,bN as je,bq as kl,c6 as Vl,d1 as Pl,bh as Cl,s as El,be as Te,bL as Tl,cJ as Se}from"./index-CRNrcdxt.js";import{e as re,i as q,h as Ie,t as Sl,a as Ge,_ as oe,v as Me,j as Il,k as Fe,g as ne,l as Fl,b as se,m as fe,c as ie,n as $l,o as Dl,s as wl,f as me,d as Ll}from"./_plugin-vue_export-helper-BjMXca1R.js";const ve=s=>{re(s)||console.error("Uncaught TypeError: ",`options expected Array but got ${Sl(s)}`)},Rl=s=>{const o=S([]),d=S(!1);if(!s.options)o.value=[],d.value=!0;else if(we(s.options))J(s.options,r=>{o.value=r,d.value=!0},{immediate:!0});else if(re(s.options))o.value=[...s.options],d.value=!0;else if(q(s.options)){const r=s.options,n=r(s);Ie(n)?n.then(b=>{o.value=b,d.value=!0,ve(o.value)}).catch(b=>{throw b}):(o.value=n,d.value=!0)}else Ie(s.options)?s.options.then(n=>{o.value=n,d.value=!0,ve(o.value)}).catch(n=>{throw n}):(d.value=!0,ve(s.options));return{customOptions:o,customOptionsIsReady:d}},_l=s=>(o,d)=>Bl(o,d,e(s)),Bl=(s,o,d)=>xe(d,s,s).replace(/\{(\w+)\}/g,(r,n)=>{var b;return`${(b=o==null?void 0:o[n])!=null?b:`{${n}}`}`}),Ol=s=>{const o=z(()=>e(s).name),d=we(s)?s:S(s);return{lang:o,locale:d,t:_l(s)}},ce=s=>{const o=Le(Xe,S());return Ol(z(()=>o.value||Ze))},Ul=Symbol("tableFormFieldRefInjectionKey"),Al=["datetimerange","daterange","monthrange"],Nl=["rate","input-number","slider"],jl=["checkbox","cascader","plus-date-picker","plus-input-tag","transfer"];var Gl=ae({name:"PlusRender",__name:"index",props:{renderType:{default:void 0},callbackValue:{default:""},customFieldProps:{default:()=>({})},render:{},params:{default:()=>({})},handleChange:{}},setup(s){const o=s,d=S();J(()=>o.callbackValue,n=>{d.value=n},{flush:"post",immediate:!0});const r=()=>{if(!o.render)return;const n=D({},o.params),b=o.renderType==="form"?o.render(d.value,o.handleChange,n):o.render(d.value,n);if(el(b)){const T=o.renderType==="form"?D(D({modelValue:d.value},o.customFieldProps),b.props):D(D({},o.customFieldProps),b.props);return de(D({},b),{props:T})}else if(Ge(b))return b};return(n,b)=>n.renderType==="form"?(t(),m(L(r),g({key:0,modelValue:d.value,"onUpdate:modelValue":b[0]||(b[0]=T=>d.value=T)},n.customFieldProps),null,16,["modelValue"])):(t(),m(L(r),j(g({key:1},n.customFieldProps)),null,16))}}),Ml=oe(Gl,[["__file","index.vue"]]);const $e=Ml;var ql=ae({name:"PlusRadio",__name:"index",props:{modelValue:{type:[String,Number,Boolean],default:""},options:{default:()=>[]},isCancel:{type:Boolean,default:!0},fieldSlots:{default:void 0},fieldChildrenSlot:{default:void 0}},emits:["change","update:modelValue"],setup(s,{expose:o,emit:d}){const r=s,n=d,b=S(),T=S(),y=ye({radio:""});J(()=>r.modelValue,c=>{y.radio=c},{immediate:!0});const a=Re(),f=(c,U,i)=>{if(!(Reflect.has(a,"disabled")||i!=null&&i.disabled)){if(r.isCancel)c.preventDefault();else return;y.radio===U?y.radio="":y.radio=U,n("update:modelValue",y.radio),n("change",y.radio)}},V=c=>{r.isCancel||(n("update:modelValue",c),n("change",c))};return o({radioInstance:b,radioGroupInstance:T}),(c,U)=>(t(),m(e(_e),g({ref_key:"radioGroupInstance",ref:T,modelValue:y.radio,"onUpdate:modelValue":U[0]||(U[0]=i=>y.radio=i),class:"plus-radio"},c.$attrs),ee({default:h(()=>[e(Me)?(t(!0),F(N,{key:0},A(c.options,i=>(t(),m(e(he),g({key:`${i.label}${i.value}`,ref_for:!0,ref_key:"radioInstance",ref:b,label:i.value},i.fieldItemProps,{onClick:_=>f(_,i.value,i.fieldItemProps),onChange:_=>V(i.value)}),{default:h(()=>[e(q)(i.fieldSlot)?(t(),m(L(i.fieldSlot),g({key:0,"model-value":y.radio,column:r},i),null,16,["model-value"])):e(q)(c.fieldChildrenSlot)?(t(),m(L(c.fieldChildrenSlot),g({key:1,"model-value":y.radio,column:r},i),null,16,["model-value"])):(t(),F(N,{key:2},[Y(H(i==null?void 0:i.label),1)],64))]),_:2},1040,["label","onClick","onChange"]))),128)):(t(),F(N,{key:1},[R(" element-plus 版本号大于等于2.6.0 "),(t(!0),F(N,null,A(c.options,i=>(t(),m(e(he),g({key:`${i.label}${i.value}`,ref_for:!0,ref_key:"radioInstance",ref:b,value:i.value},i.fieldItemProps,{onClick:_=>f(_,i.value,i.fieldItemProps),onChange:_=>V(i.value)}),{default:h(()=>[e(q)(i.fieldSlot)?(t(),m(L(i.fieldSlot),g({key:0,"model-value":y.radio,column:r},i),null,16,["model-value"])):e(q)(c.fieldChildrenSlot)?(t(),m(L(c.fieldChildrenSlot),g({key:1,"model-value":y.radio,column:r},i),null,16,["model-value"])):(t(),F(N,{key:2},[Y(H(i==null?void 0:i.label),1)],64))]),_:2},1040,["value","onClick","onChange"]))),128))],64))]),_:2},[A(c.fieldSlots,(i,_)=>({name:_,fn:h(P=>[(t(),m(L(i),j(W(P)),null,16))])}))]),1040,["modelValue"]))}}),zl=oe(ql,[["__file","index.vue"]]);const Kl=zl,Hl={class:"plus-date-picker__middle"};var Wl=ae({name:"PlusDatePicker",__name:"index",props:{modelValue:{default:()=>[]},rangeSeparator:{default:"/"},valueFormat:{default:"YYYY-MM-DD HH:mm:ss"},type:{default:"datetime"},startProps:{default:()=>({})},endProps:{default:()=>({})},startDisabledDate:{type:Function,default:(s,o)=>o?s.getTime()>new Date(o).getTime():!1},endDisabledDate:{type:Function,default:(s,o)=>o?s.getTime()<new Date(o).getTime():!1}},emits:["change","focus","update:modelValue"],setup(s,{expose:o,emit:d}){const r=s,n=d,{t:b}=ce(),T=Re(),y=z(()=>D(D({},T),r.startProps)),a=z(()=>D(D({},T),r.endProps)),f=S(),V=S(),c=ye({start:"",end:""}),U=S(!1),i=p=>{U.value=!0,n("focus",p)},_=()=>{U.value=!1},P=p=>r.startDisabledDate&&q(r.startDisabledDate)?r.startDisabledDate(p,c.end):!1,I=p=>r.endDisabledDate&&q(r.endDisabledDate)?r.endDisabledDate(p,c.start):!1;J(()=>r.modelValue,p=>{const[K,G]=p;c.start=K,c.end=G},{immediate:!0});const k=()=>{const p=[c.start,c.end];n("update:modelValue",p),n("change",p)};return o({startPickerInstance:f,endPickerInstance:V}),(p,K)=>Be((t(),F("div",{class:Ue(["plus-date-picker",{"is-focus":U.value}])},[le(e(be),g({ref_key:"startPickerInstance",ref:f,modelValue:c.start,"onUpdate:modelValue":K[0]||(K[0]=G=>c.start=G),type:p.type,"value-format":p.valueFormat,placeholder:e(b)("plus.datepicker.startPlaceholder"),"disabled-date":P,class:"plus-date-picker__start",clearable:""},y.value,{onChange:k,onFocus:i}),null,16,["modelValue","type","value-format","placeholder"]),ge("span",Hl,H(p.rangeSeparator),1),le(e(be),g({ref_key:"endPickerInstance",ref:V,modelValue:c.end,"onUpdate:modelValue":K[1]||(K[1]=G=>c.end=G),"value-format":p.valueFormat,type:p.type,placeholder:e(b)("plus.datepicker.endPlaceholder"),"disabled-date":I,class:"plus-date-picker__end",clearable:""},a.value,{onChange:k,onFocus:i}),null,16,["modelValue","value-format","type","placeholder"])],2)),[[e(Oe),_]])}}),Yl=oe(Wl,[["__file","index.vue"]]);const Jl=Yl;var Ql=ae({name:"PlusInputTag",__name:"index",props:{modelValue:{default:()=>[]},trigger:{default:()=>["blur","enter","space"]},inputProps:{default:()=>({})},tagProps:{default:()=>({})},limit:{default:1/0},formatTag:{type:Function,default:void 0},retainInputValue:{type:Boolean,default:!1}},emits:["update:modelValue","change","remove","blur","enter","space"],setup(s,{expose:o,emit:d}){const r=s,n=d,b=S(),T=S(),y=S(),a=ye({tags:[],inputValue:"",isFocus:!1}),{t:f}=ce();J(()=>r.modelValue,P=>{a.tags=P.slice(0,r.limit)},{immediate:!0});const V=()=>{a.isFocus=!1},c=()=>{var P;a.isFocus=!0,(P=b.value)==null||P.focus()},U=P=>{a.tags=a.tags.filter(I=>I!==P),n("remove",P),n("update:modelValue",a.tags),n("change",a.tags)},i=()=>{a.inputValue.trim()&&!a.tags.includes(a.inputValue.trim())&&a.tags.length<r.limit&&a.tags.push(a.inputValue.trim()),r.retainInputValue||(a.inputValue=""),n("update:modelValue",a.tags),n("change",a.tags)},_=(P,I)=>{n(I,a.inputValue,P),(re(r.trigger)?r.trigger:Ge(r.trigger)?[r.trigger]:["blur","enter","space"]).includes(I)&&i()};return o({inputInstance:b,tagInstance:T}),(P,I)=>Be((t(),F("div",{ref_key:"plusInputTagInstance",ref:y,class:Ue(["plus-input-tag",{"is-focus":a.isFocus}]),onClick:c},[(t(!0),F(N,null,A(a.tags,k=>(t(),m(e(ll),g({ref_for:!0,ref_key:"tagInstance",ref:T,key:k,class:"plus-input-tag__tag"},P.tagProps,{closable:"",onClose:p=>U(k)}),{default:h(()=>[Y(H(P.formatTag&&e(q)(P.formatTag)?P.formatTag(k):k),1)]),_:2},1040,["onClose"]))),128)),a.tags.length<P.limit?(t(),m(e(pe),g({key:0,ref_key:"inputInstance",ref:b,modelValue:a.inputValue,"onUpdate:modelValue":I[0]||(I[0]=k=>a.inputValue=k),class:"plus-input-tag__input",placeholder:a.tags.length?"":e(f)("plus.inputTag.placeholder"),disabled:a.tags.length>=P.limit},P.inputProps,{clearable:"",onBlur:I[1]||(I[1]=k=>_(k,"blur")),onKeyup:[I[2]||(I[2]=Ce(Ee(k=>_(k,"enter"),["exact"]),["enter"])),I[3]||(I[3]=Ce(Ee(k=>_(k,"space"),["exact"]),["space"]))]}),null,16,["modelValue","placeholder","disabled"])):R("v-if",!0)],2)),[[e(Oe),V]])}}),Xl=oe(Ql,[["__file","index.vue"]]);const Zl=Xl,qe={"plus-radio":{component:Kl,hasOptions:!0},"plus-date-picker":{component:Jl},"plus-input-tag":{component:Zl},autocomplete:{component:al,props:{placeholder:"plus.field.pleaseEnter"},hasSelectEvent:!0},cascader:{component:ol,hasOptions:!0},checkbox:{component:tl,children:sl,hasVersionCompatibility:!0},"color-picker":{component:ul},"date-picker":{component:be,props:{startPlaceholder:"plus.datepicker.startPlaceholder",endPlaceholder:"plus.datepicker.endPlaceholder"}},"input-number":{component:nl,props:{placeholder:"plus.field.pleaseEnter"}},radio:{component:_e,children:he,hasVersionCompatibility:!0},rate:{component:rl},select:{component:Ae,children:Ne},slider:{component:dl},switch:{component:il},"time-picker":{component:pl},"time-select":{component:cl},transfer:{component:fl},input:{component:pe,props:{placeholder:"plus.field.pleaseEnter"}},textarea:{component:pe,props:{type:"textarea",placeholder:"plus.field.pleaseEnter"}},"tree-select":{component:ml}},xl=s=>Object.keys(qe).includes(s),ue=s=>Reflect.get(qe,s)||{},ea={class:"plus-form-item__label"};var la=ae({name:"PlusFormItem",__name:"index",props:{modelValue:{default:""},hasLabel:{default:!0},label:{default:""},prop:{},fieldProps:{default:()=>({})},valueType:{default:void 0},options:{default:()=>[]},formItemProps:{default:()=>({})},renderField:{default:void 0},renderLabel:{default:void 0},tooltip:{default:""},fieldSlots:{default:()=>({})},fieldChildrenSlot:{default:void 0},index:{default:0}},emits:["update:modelValue","change"],setup(s,{expose:o,emit:d}){const r=yl,n=gl,b=je,T=pe,y=Ae,a=Ne,f=s,V=d,{t:c}=ce(),{customOptions:U,customOptionsIsReady:i}=Rl(f),_=S(),P=S(),I=S({}),k=S({}),p=S(),K=S(!1),G=S(!1),Q=z(()=>Il(f.label)),u=z(()=>de(D({},f),{label:Q.value})),M=Le(Ul,{}),B=z(()=>{var l,C,E,v,Z,x;return f.valueType==="cascader"&&((C=(l=k.value)==null?void 0:l.props)==null?void 0:C.emitPath)===!1?!1:!!(jl.includes(f.valueType)||f.valueType==="select"&&((E=k.value)==null?void 0:E.multiple)===!0||f.valueType==="date-picker"&&Al.includes((v=k.value)==null?void 0:v.type)||f.valueType==="time-picker"&&((Z=k.value)==null?void 0:Z.isRange)===!0||f.valueType==="tree-select"&&((x=k.value)==null?void 0:x.multiple)===!0)}),$=z(()=>!!Nl.includes(f.valueType)),O=l=>{if(B.value)if(re(l)){const[C,E]=l;fe(C)||fe(E)?p.value=[String(C),String(E)]:p.value=l}else p.value=[];else $.value?p.value=Number(l):fe(l)?p.value=String(l):p.value=l;G.value=!0},X=z(()=>{const{hasOptions:l,hasSelectEvent:C,props:E}=ue(f.valueType);return D(D(de(D(D(D({},l?{options:U.value}:null),C?{onSelect:Ke}:null),E),{placeholder:E!=null&&E.placeholder?c(E==null?void 0:E.placeholder)+Q.value:c("plus.field.pleaseSelect")+Q.value}),f.valueType==="date-picker"?{startPlaceholder:E!=null&&E.startPlaceholder?c(E==null?void 0:E.startPlaceholder):"",endPlaceholder:E!=null&&E.startPlaceholder?c(E==null?void 0:E.endPlaceholder):""}:null),k.value)}),ze=l=>D(D({},f.valueType==="select"?{label:l.label,value:l.value}:Me?{label:l.value}:{label:l.label,value:l.value}),l.fieldItemProps);J(()=>f.formItemProps,l=>{Fe(l,p.value,f,f.index,"formItemProps").then(C=>{I.value=C}).catch(C=>{throw C})},{immediate:!0,deep:!0}),J(()=>f.fieldProps,l=>{Fe(l,p.value,f,f.index,"fieldProps").then(C=>{k.value=C,K.value=!0}).catch(C=>{throw C})},{immediate:!0,deep:!0}),J(z(()=>[f.modelValue,K.value,i.value]),([l,C,E])=>{C&&E&&O(l)},{immediate:!0,flush:"post"});const te=l=>{V("update:modelValue",l),V("change",l)},Ke=({value:l})=>{te(l)};return J(P,()=>{M.value={fieldInstance:P.value,valueIsReady:G}}),o({formItemInstance:_,fieldInstance:P}),(l,C)=>{var E;return G.value?(t(),m(e(r),g({key:0,ref_key:"formItemInstance",ref:_,label:l.hasLabel?Q.value:"",prop:l.prop,class:"plus-form-item"},I.value,{"label-width":l.hasLabel?(E=I.value)==null?void 0:E.labelWidth:"0px"}),ee({default:h(()=>[l.renderField&&e(q)(l.renderField)?(t(),F(N,{key:0},[G.value?(t(),m(e($e),{key:0,render:l.renderField,params:u.value,"callback-value":p.value,"custom-field-props":k.value,"render-type":"form","handle-change":te},null,8,["render","params","callback-value","custom-field-props"])):R("v-if",!0)],64)):l.$slots[e(se)(l.prop)]?w(l.$slots,e(se)(l.prop),{key:1,prop:l.prop,label:Q.value,fieldProps:k.value,valueType:l.valueType,column:f}):l.valueType==="select"&&k.value.multiple===!0?(t(),m(e(y),g({key:2,ref_key:"fieldInstance",ref:P,modelValue:p.value,"onUpdate:modelValue":C[0]||(C[0]=v=>p.value=v),placeholder:e(c)("plus.field.pleaseSelect")+Q.value,class:"plus-form-item-field",clearable:""},k.value,{"onUpdate:modelValue":te}),ee({default:h(()=>[(t(!0),F(N,null,A(e(U),v=>(t(),m(e(a),g({key:v.label,label:v.label,value:v.value},v.fieldItemProps),{default:h(()=>[e(q)(v.fieldSlot)?(t(),m(L(v.fieldSlot),j(g({key:0},v)),null,16)):e(q)(l.fieldChildrenSlot)?(t(),m(L(l.fieldChildrenSlot),j(g({key:1},v)),null,16)):(t(),F(N,{key:2},[Y(H(v.label),1)],64))]),_:2},1040,["label","value"]))),128))]),_:2},[A(l.fieldSlots,(v,Z)=>({name:Z,fn:h(x=>[(t(),m(L(v),j(W(x)),null,16))])}))]),1040,["modelValue","placeholder"])):e(xl)(l.valueType)?(t(),F(N,{key:3},[R(" 统一处理 "),R(" has-children  "),e(ue)(l.valueType).children?(t(),m(L(e(ue)(l.valueType).component),g({key:0,ref_key:"fieldInstance",ref:P,modelValue:p.value,"onUpdate:modelValue":C[1]||(C[1]=v=>p.value=v),class:"plus-form-item-field",clearable:""},X.value,{"onUpdate:modelValue":te}),ee({default:h(()=>[(t(!0),F(N,null,A(e(U),v=>(t(),m(L(e(ue)(l.valueType).children),g({key:v.label},ze(v)),{default:h(()=>[e(q)(v.fieldSlot)?(t(),m(L(v.fieldSlot),g({key:0,"model-value":p.value,column:u.value},v),null,16,["model-value","column"])):e(q)(l.fieldChildrenSlot)?(t(),m(L(l.fieldChildrenSlot),g({key:1,"model-value":p.value,column:u.value},v),null,16,["model-value","column"])):(t(),F(N,{key:2},[Y(H(v.label),1)],64))]),_:2},1040))),128))]),_:2},[A(l.fieldSlots,(v,Z)=>({name:Z,fn:h(x=>[(t(),m(L(v),g({value:p.value,column:u.value},x),null,16,["value","column"]))])}))]),1040,["modelValue"])):(t(),F(N,{key:1},[R(" no-children  "),(t(),m(L(e(ue)(l.valueType).component),g({ref_key:"fieldInstance",ref:P,modelValue:p.value,"onUpdate:modelValue":C[2]||(C[2]=v=>p.value=v),class:"plus-form-item-field",clearable:"","field-children-slot":l.fieldChildrenSlot},X.value,{"onUpdate:modelValue":te}),ee({_:2},[A(l.fieldSlots,(v,Z)=>({name:Z,fn:h(x=>[(t(),m(L(v),g({"model-value":p.value,column:u.value},x),null,16,["model-value","column"]))])}))]),1040,["modelValue","field-children-slot"]))],2112))],64)):l.valueType==="text"?(t(),m(e(hl),g({key:4,ref_key:"fieldInstance",ref:P,class:"plus-form-item-field"},k.value),{default:h(()=>[Y(H(p.value),1)]),_:1},16)):l.valueType==="divider"?(t(),m(e(bl),g({key:5,ref_key:"fieldInstance",ref:P,class:"plus-form-item-field"},k.value),{default:h(()=>[Y(H(p.value),1)]),_:1},16)):(t(),m(e(T),g({key:6,ref_key:"fieldInstance",ref:P,modelValue:p.value,"onUpdate:modelValue":C[3]||(C[3]=v=>p.value=v),class:"plus-form-item-field",placeholder:e(c)("plus.field.pleaseEnter")+Q.value,autocomplete:"off",clearable:""},k.value,{"onUpdate:modelValue":te}),ee({_:2},[A(l.fieldSlots,(v,Z)=>({name:Z,fn:h(x=>[(t(),m(L(v),g({"model-value":p.value,column:u.value},x),null,16,["model-value","column"]))])}))]),1040,["modelValue","placeholder"]))]),_:2},[l.hasLabel?{name:"label",fn:h(({label:v})=>[ge("span",ea,[l.renderLabel&&e(q)(l.renderLabel)?(t(),F(N,{key:0},[G.value?(t(),m(e($e),{key:0,render:l.renderLabel,params:u.value,"callback-value":v,"custom-field-props":k.value},null,8,["render","params","callback-value","custom-field-props"])):R("v-if",!0)],64)):w(l.$slots,e(ne)(l.prop),{key:1,prop:l.prop,label:Q.value,fieldProps:k.value,valueType:l.valueType,column:u.value},()=>[Y(H(v),1)]),l.tooltip?(t(),m(e(n),g({key:2,placement:"top"},e(Fl)(l.tooltip)),{default:h(()=>[w(l.$slots,"tooltip-icon",{},()=>[le(e(b),{class:"plus-table-column__label__icon",size:16},{default:h(()=>[le(e(vl))]),_:1})])]),_:3},16)):R("v-if",!0)])]),key:"0"}:void 0]),1040,["label","prop","label-width"])):R("v-if",!0)}}}),aa=oe(la,[["__file","index.vue"]]);const oa=aa,ta={key:0,class:"plus-form-item-extra"};var sa=ae({name:"PlusFormContent",__name:"form-content",props:{modelValue:{default:()=>({})},hasLabel:{type:Boolean,default:!0},columns:{default:()=>[]},rowProps:{default:()=>({})},colProps:{default:()=>({})}},emits:["update:modelValue","change"],setup(s,{emit:o}){const d=s,r=o,n=S({}),b=a=>{const f=e(a);return $l(f)?f:d.hasLabel};J(()=>d.modelValue,a=>{n.value=a},{immediate:!0});const T=a=>Dl(n.value,a),y=(a,f)=>{wl(n.value,f.prop,a),r("update:modelValue",n.value),r("change",n.value,f)};return(a,f)=>(t(),m(e(Vl),g(a.rowProps,{class:"plus-form__row"}),{default:h(()=>[(t(!0),F(N,null,A(a.columns,V=>(t(),m(e(kl),g({key:V.prop},V.colProps||a.colProps),{default:h(()=>[le(e(oa),g({"model-value":T(V.prop)},V,{"has-label":b(V.hasLabel),onChange:c=>y(c,V)}),ee({_:2},[a.$slots[e(ne)(V.prop)]?{name:e(ne)(V.prop),fn:h(c=>[w(a.$slots,e(ne)(V.prop),j(W(c)))]),key:"0"}:void 0,a.$slots[e(se)(V.prop)]?{name:e(se)(V.prop),fn:h(c=>[w(a.$slots,e(se)(V.prop),j(W(c)))]),key:"1"}:void 0,a.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[w(a.$slots,"tooltip-icon")]),key:"2"}:void 0]),1040,["model-value","has-label","onChange"]),R(" el-form-item 下一行额外的内容 "),V.renderExtra||a.$slots[e(ie)(V.prop)]?(t(),F("div",ta,[V.renderExtra&&e(q)(V.renderExtra)?(t(),m(L(V.renderExtra),j(g({key:0},V)),null,16)):a.$slots[e(ie)(V.prop)]?w(a.$slots,e(ie)(V.prop),j(g({key:1},V))):R("v-if",!0)])):R("v-if",!0)]),_:2},1040))),128)),R(" 搜索的footer插槽  "),w(a.$slots,"search-footer")]),_:3},16))}}),De=oe(sa,[["__file","form-content.vue"]]);const ua={class:"plus-form__group__item__icon"};var na=ae({name:"PlusForm",inheritAttrs:!1,__name:"index",props:{modelValue:{default:()=>({})},defaultValues:{default:()=>({})},columns:{default:()=>[]},labelWidth:{default:"80px"},labelPosition:{default:"left"},rowProps:{default:()=>({})},colProps:{default:()=>({})},labelSuffix:{default:":"},hasErrorTip:{type:Boolean,default:!0},hasFooter:{type:Boolean,default:!0},hasReset:{type:Boolean,default:!0},hasLabel:{type:Boolean,default:!0},submitText:{default:""},resetText:{default:""},submitLoading:{type:Boolean,default:!1},footerAlign:{default:"left"},rules:{default:()=>({})},group:{type:[Boolean,Array],default:!1},cardProps:{default:()=>({})}},emits:["update:modelValue","submit","change","reset","submitError","validate"],setup(s,{expose:o,emit:d}){const r=s,n=d,{t:b}=ce(),T=S(null),y=S({}),a=u=>u.filter(M=>e(M.hideInForm)!==!0),f=z(()=>y.value),V=z(()=>({justifyContent:r.footerAlign==="left"?"flex-start":r.footerAlign==="center"?"center":"flex-end"})),c=z(()=>a(r.columns)),U=z(()=>{var u;return re(r.group)?(u=r.group)==null?void 0:u.filter(M=>e(M.hideInGroup)!==!0):r.group}),i=Pl(),_=me(i,ne()),P=me(i,se()),I=me(i,ie());J(()=>r.modelValue,u=>{y.value=u},{immediate:!0});const k=(u,M)=>{n("update:modelValue",y.value),n("change",y.value,M)},p=()=>{var u;(u=T.value)==null||u.clearValidate()},K=()=>Pe(this,null,function*(){var u,M,B;try{if(yield(u=T.value)==null?void 0:u.validate())return n("submit",y.value),!0}catch($){if(r.hasErrorTip){Se.closeAll();const O=Ll($)&&Object.values($),X=O?(B=(M=O[0])==null?void 0:M[0])==null?void 0:B.message:void 0;Se.warning(X||b("plus.form.errorTip"))}n("submitError",$)}return!1}),G=()=>{p(),y.value=D({},r.defaultValues),n("update:modelValue",y.value),n("reset",y.value)},Q=(...u)=>{n("validate",...u)};return o({formInstance:T,handleSubmit:K,handleReset:G}),(u,M)=>(t(),m(e(Tl),g({ref_key:"formInstance",ref:T,rules:u.rules,"label-width":u.hasLabel?u.labelWidth:0,class:["plus-form",u.hasLabel?"":"no-has-label"],"label-position":u.labelPosition,"validate-on-rule-change":!1,"label-suffix":u.hasLabel?u.labelSuffix:""},u.$attrs,{model:f.value,onValidate:Q}),{default:h(()=>[w(u.$slots,"default",{},()=>[R(" 分组表单 "),U.value?(t(!0),F(N,{key:0},A(U.value,B=>(t(),m(e(Cl),g({key:B.title},B.cardProps||u.cardProps,{class:"plus-form__group__item"}),{header:h(()=>[w(u.$slots,"group-header",{title:B.title,columns:B.columns,icon:B.icon},()=>[ge("div",ua,[B.icon?(t(),m(e(je),{key:0},{default:h(()=>[(t(),m(L(B.icon)))]),_:2},1024)):R("v-if",!0),Y(" "+H(B.title),1)])])]),default:h(()=>[le(De,{modelValue:y.value,"onUpdate:modelValue":M[0]||(M[0]=$=>y.value=$),"row-props":u.rowProps,"col-props":u.colProps,columns:a(B.columns),onChange:k},ee({_:2},[A(e(_),($,O)=>({name:O,fn:h(X=>[w(u.$slots,O,j(W(X)))])})),A(e(P),($,O)=>({name:O,fn:h(X=>[w(u.$slots,O,j(W(X)))])})),A(e(I),($,O)=>({name:O,fn:h(X=>[w(u.$slots,O,j(W(X)))])})),u.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[w(u.$slots,"tooltip-icon")]),key:"0"}:void 0]),1032,["modelValue","row-props","col-props","columns"])]),_:2},1040))),128)):(t(),F(N,{key:1},[R(" 普通表单 "),le(De,{modelValue:y.value,"onUpdate:modelValue":M[1]||(M[1]=B=>y.value=B),"row-props":u.rowProps,"col-props":u.colProps,columns:c.value,"has-label":u.hasLabel,onChange:k},ee({_:2},[A(e(_),(B,$)=>({name:$,fn:h(O=>[w(u.$slots,$,j(W(O)))])})),A(e(P),(B,$)=>({name:$,fn:h(O=>[w(u.$slots,$,j(W(O)))])})),A(e(I),(B,$)=>({name:$,fn:h(O=>[w(u.$slots,$,j(W(O)))])})),u.$slots["search-footer"]?{name:"search-footer",fn:h(()=>[w(u.$slots,"search-footer")]),key:"0"}:void 0,u.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[w(u.$slots,"tooltip-icon")]),key:"1"}:void 0]),1032,["modelValue","row-props","col-props","columns","has-label"])],64))]),u.hasFooter?(t(),F("div",{key:0,class:"plus-form__footer",style:El(V.value)},[w(u.$slots,"footer",j(W({handleReset:G,handleSubmit:K})),()=>[u.hasReset?(t(),m(e(Te),{key:0,onClick:G},{default:h(()=>[R(" 重置 "),Y(" "+H(u.resetText||e(b)("plus.form.resetText")),1)]),_:1})):R("v-if",!0),le(e(Te),{type:"primary",loading:u.submitLoading,onClick:K},{default:h(()=>[R(" 提交 "),Y(" "+H(u.submitText||e(b)("plus.form.submitText")),1)]),_:1},8,["loading"])])],4)):R("v-if",!0)]),_:3},16,["rules","label-width","class","label-position","label-suffix","model"]))}}),ra=oe(na,[["__file","index.vue"]]);const ca=ra;export{ca as P,ce as u};
