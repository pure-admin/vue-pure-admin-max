import{d as q,aZ as L,a as M,eE as Z,b as i,k as d,f as s,h as c,g as n,u as t,aD as C,w as o,j as u,s as _,F as S,l as D,e as f,U as h,t as x,q as A,i as G,_ as H}from"./index-Unj4PD6x.js";import{useSchedule as J}from"./hook-x1rNMnOm.js";import{R as y}from"./index-BbzdQgdz.js";import"./form.vue_vue_type_script_setup_true_lang-uMshNjQG.js";const K={class:"flex-bc flex-wrap w-full mb-4"},P={class:"flex flex-wrap items-center gap-2"},Q={class:"flex-bc"},W={class:"scheduling-content"},X={key:0},Y=["onDblclick","onClick"],ee={key:1,class:"m-4 flex-c flex-col gap-2 text-center text-[rgba(0,0,0,0.45)] dark:text-[rgba(255,255,255,0.45)]"},le=q({name:"Schedule",__name:"index",setup(te){L.locale("zh-cn",{weekStart:1});const g=M(),{update:w}=Z(),{date:r,legends:V,getScheduleTagStyle:I,getScheduleTagIcon:$,getScheduleTagIconColor:T,deviceDetection:R,getScheduling:v,selectDate:m,formatSchedule:j,onSchedulingClick:B,openDialog:N}=J(g);return(ne,e)=>{const z=i("el-date-picker"),p=i("el-button"),E=i("el-button-group"),k=i("IconifyIconOnline"),b=i("el-scrollbar"),U=i("el-calendar");return s(),d("div",null,[c("div",K,[c("div",P,[n(z,{modelValue:t(r),"onUpdate:modelValue":e[0]||(e[0]=l=>C(r)?r.value=l:null),class:"!w-[160px]",type:"month",placeholder:"请选择日期",onClear:e[1]||(e[1]=l=>r.value=new Date)},null,8,["modelValue"]),n(E,null,{default:o(()=>[n(p,{onClick:e[2]||(e[2]=l=>t(m)("prev-month"))},{default:o(()=>e[7]||(e[7]=[u("上个月",-1)])),_:1,__:[7]}),n(p,{onClick:e[3]||(e[3]=l=>t(m)("today"))},{default:o(()=>e[8]||(e[8]=[u("今天",-1)])),_:1,__:[8]}),n(p,{onClick:e[4]||(e[4]=l=>t(m)("next-month"))},{default:o(()=>e[9]||(e[9]=[u("下个月",-1)])),_:1,__:[9]})]),_:1})]),c("div",{class:"flex items-center gap-2",style:_({marginTop:t(R)()?"6px":""})},[(s(!0),d(S,null,D(t(V),(l,a)=>(s(),d("div",{key:a,class:"flex items-center text-[18px] font-medium",style:_({color:l.color})},[(s(),f(h(l.icon),{class:"mr-1"})),c("span",null,x(l.text),1)],4))),128))],4)]),n(U,{ref_key:"calendarRef",ref:g,modelValue:t(r),"onUpdate:modelValue":e[6]||(e[6]=l=>C(r)?r.value=l:null)},{"date-cell":o(({data:l})=>[n(b,null,{default:o(()=>[c("div",{class:"calendar-scheduling",onClick:e[5]||(e[5]=A(()=>{},["stop"]))},[c("div",Q,[n(t(y),{class:"calendar-day !text-[16px]"},{default:o(()=>[u(x(l.day.split("-").slice(1).join("-")),1)]),_:2},1024),l.type==="current-month"?(s(),f(p,{key:0,size:"small",circle:"",onClick:a=>t(N)("新增",{startDate:l.day,endDate:l.day})},{icon:o(()=>[n(k,{icon:"ri:add-large-line",color:"#8E9096"})]),_:2},1032,["onClick"])):G("",!0)]),c("div",W,[n(b,null,{default:o(()=>[t(v)(l.day).length>0?(s(),d("div",X,[(s(!0),d(S,null,D(t(v)(l.day),(a,F)=>(s(),d("div",{key:F,onDblclick:O=>t(w)(t(j)(l.day,a)),onClick:O=>t(B)(l.type,a)},[c("div",{class:"scheduling-tag",style:_(t(I)(a.classes))},[(s(),f(h(t($)(a.classes)),{class:"mr-1",style:_(t(T)(a.classes))},null,8,["style"])),n(t(y),{class:"!w-full !text-inherit !text-[13px]"},{default:o(()=>[u(x(a.scheduling),1)]),_:2},1024)],4)],40,Y))),128))])):(s(),d("div",ee,[n(k,{icon:"ep:calendar"}),n(t(y),{class:"!text-inherit !text-[13px]"},{default:o(()=>e[10]||(e[10]=[u("暂无排班",-1)])),_:1,__:[10]})]))]),_:2},1024)])])]),_:2},1024)]),_:1},8,["modelValue"])])}}}),re=H(le,[["__scopeId","data-v-e56e2bbc"]]);export{re as default};
